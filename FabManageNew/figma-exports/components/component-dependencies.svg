<?xml version="1.0" encoding="UTF-8"?>
<svg width="1400" height="1000" viewBox="0 0 1400 1000"
    xmlns="http://www.w3.org/2000/svg">
    <defs>
        <style>
      .component-box { fill: #f8f9fa; stroke: #dee2e6; stroke-width: 2; rx: 6; }
      .component-text { font-family: 'Segoe UI', Arial, sans-serif; font-size: 12px; fill: #495057; font-weight: 500; }
      .category-header { font-family: 'Segoe UI', Arial, sans-serif; font-size: 16px; font-weight: bold; fill: #212529; }
      .dependency-line { stroke: #6c757d; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .strong-dependency { stroke: #dc3545; stroke-width: 3; fill: none; marker-end: url(#red-arrow); }
      .weak-dependency { stroke: #6c757d; stroke-width: 1; stroke-dasharray: 5,5; fill: none; marker-end: url(#arrowhead); }
      .layout-layer { fill: #e3f2fd; stroke: #2196f3; stroke-width: 2; rx: 8; }
      .business-layer { fill: #e8f5e8; stroke: #4caf50; stroke-width: 2; rx: 8; }
      .ui-layer { fill: #fff3e0; stroke: #ff9800; stroke-width: 2; rx: 8; }
      .data-layer { fill: #f3e5f5; stroke: #9c27b0; stroke-width: 2; rx: 8; }
        </style>
        <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#6c757d" />
        </marker>
        <marker id="red-arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#dc3545" />
        </marker>
    </defs>

    <!-- Title -->
    <text x="700" y="40" text-anchor="middle" class="category-header" font-size="20">FabManage Component Dependency Architecture</text>

    <!-- Layout Layer -->
    <rect x="50" y="80" width="1300" height="120" class="layout-layer"/>
    <text x="60" y="100" class="category-header">Layout Layer</text>

    <rect x="80" y="110" width="120" height="40" class="component-box"/>
    <text x="140" y="135" text-anchor="middle" class="component-text">BrandedSidebar</text>

    <rect x="220" y="110" width="140" height="40" class="component-box"/>
    <text x="290" y="135" text-anchor="middle" class="component-text">ContextualHeader</text>

    <rect x="380" y="110" width="100" height="40" class="component-box"/>
    <text x="430" y="135" text-anchor="middle" class="component-text">SlideOver</text>

    <rect x="500" y="110" width="100" height="40" class="component-box"/>
    <text x="550" y="135" text-anchor="middle" class="component-text">PageHeader</text>

    <!-- Business Logic Layer -->
    <rect x="50" y="220" width="1300" height="200" class="business-layer"/>
    <text x="60" y="240" class="category-header">Business Logic Layer</text>

    <!-- Project Management -->
    <rect x="80" y="260" width="120" height="40" class="component-box"/>
    <text x="140" y="285" text-anchor="middle" class="component-text">ProjectCard</text>

    <rect x="220" y="260" width="120" height="40" class="component-box"/>
    <text x="280" y="285" text-anchor="middle" class="component-text">ProjectHeader</text>

    <rect x="360" y="260" width="120" height="40" class="component-box"/>
    <text x="420" y="285" text-anchor="middle" class="component-text">ProjectElements</text>

    <rect x="500" y="260" width="120" height="40" class="component-box"/>
    <text x="560" y="285" text-anchor="middle" class="component-text">ProjectTabs</text>

    <rect x="640" y="260" width="120" height="40" class="component-box"/>
    <text x="700" y="285" text-anchor="middle" class="component-text">ProjectOverview</text>

    <rect x="780" y="260" width="120" height="40" class="component-box"/>
    <text x="840" y="285" text-anchor="middle" class="component-text">ProjectMaterials</text>

    <rect x="920" y="260" width="120" height="40" class="component-box"/>
    <text x="980" y="285" text-anchor="middle" class="component-text">EditProjectModal</text>

    <!-- Tiles Management -->
    <rect x="80" y="320" width="100" height="40" class="component-box"/>
    <text x="130" y="345" text-anchor="middle" class="component-text">TileCard</text>

    <rect x="200" y="320" width="120" height="40" class="component-box"/>
    <text x="260" y="345" text-anchor="middle" class="component-text">TileEditModal</text>

    <rect x="340" y="320" width="120" height="40" class="component-box"/>
    <text x="400" y="345" text-anchor="middle" class="component-text">tile-edit-drawer</text>

    <rect x="480" y="320" width="120" height="40" class="component-box"/>
    <text x="540" y="345" text-anchor="middle" class="component-text">TileCreateModal</text>

    <!-- Kanban -->
    <rect x="620" y="320" width="100" height="40" class="component-box"/>
    <text x="670" y="345" text-anchor="middle" class="component-text">KanbanBoard</text>

    <rect x="740" y="320" width="100" height="40" class="component-box"/>
    <text x="790" y="345" text-anchor="middle" class="component-text">KanbanCard</text>

    <rect x="860" y="320" width="100" height="40" class="component-box"/>
    <text x="910" y="345" text-anchor="middle" class="component-text">KanbanColumn</text>

    <!-- UI Components Layer -->
    <rect x="50" y="440" width="1300" height="200" class="ui-layer"/>
    <text x="60" y="460" class="category-header">UI Components Layer</text>

    <!-- Core UI -->
    <rect x="80" y="480" width="100" height="40" class="component-box"/>
    <text x="130" y="505" text-anchor="middle" class="component-text">LoadingSpinner</text>

    <rect x="200" y="480" width="100" height="40" class="component-box"/>
    <text x="250" y="505" text-anchor="middle" class="component-text">StatusBadge</text>

    <rect x="320" y="480" width="100" height="40" class="component-box"/>
    <text x="370" y="505" text-anchor="middle" class="component-text">ErrorMessage</text>

    <rect x="440" y="480" width="100" height="40" class="component-box"/>
    <text x="490" y="505" text-anchor="middle" class="component-text">EntityTable</text>

    <rect x="560" y="480" width="100" height="40" class="component-box"/>
    <text x="610" y="505" text-anchor="middle" class="component-text">FileManager</text>

    <rect x="680" y="480" width="120" height="40" class="component-box"/>
    <text x="740" y="505" text-anchor="middle" class="component-text">FileUploadZone</text>

    <rect x="820" y="480" width="100" height="40" class="component-box"/>
    <text x="870" y="505" text-anchor="middle" class="component-text">FormModal</text>

    <rect x="940" y="480" width="100" height="40" class="component-box"/>
    <text x="990" y="505" text-anchor="middle" class="component-text">Toolbar</text>

    <rect x="1060" y="480" width="100" height="40" class="component-box"/>
    <text x="1110" y="505" text-anchor="middle" class="component-text">PageHeader</text>

    <rect x="1180" y="480" width="100" height="40" class="component-box"/>
    <text x="1230" y="505" text-anchor="middle" class="component-text">StageStepper</text>

    <!-- Form Components -->
    <rect x="80" y="540" width="100" height="40" class="component-box"/>
    <text x="130" y="565" text-anchor="middle" class="component-text">AuthPanel</text>

    <rect x="200" y="540" width="100" height="40" class="component-box"/>
    <text x="250" y="565" text-anchor="middle" class="component-text">AsyncStates</text>

    <!-- Data Layer -->
    <rect x="50" y="660" width="1300" height="200" class="data-layer"/>
    <text x="60" y="680" class="category-header">Data & Integration Layer</text>

    <!-- 3D Viewers -->
    <rect x="80" y="700" width="120" height="40" class="component-box"/>
    <text x="140" y="725" text-anchor="middle" class="component-text">SpeckleViewer</text>

    <rect x="220" y="700" width="120" height="40" class="component-box"/>
    <text x="280" y="725" text-anchor="middle" class="component-text">ThreeDViewer</text>

    <!-- Calendar -->
    <rect x="360" y="700" width="120" height="40" class="component-box"/>
    <text x="420" y="725" text-anchor="middle" class="component-text">CalendarShell</text>

    <rect x="500" y="700" width="120" height="40" class="component-box"/>
    <text x="560" y="725" text-anchor="middle" class="component-text">EventFormModal</text>

    <!-- Gantt -->
    <rect x="640" y="700" width="100" height="40" class="component-box"/>
    <text x="690" y="725" text-anchor="middle" class="component-text">GanttChart</text>

    <rect x="760" y="700" width="120" height="40" class="component-box"/>
    <text x="820" y="725" text-anchor="middle" class="component-text">ProjectGanttChart</text>

    <!-- Materials -->
    <rect x="900" y="700" width="120" height="40" class="component-box"/>
    <text x="960" y="725" text-anchor="middle" class="component-text">MaterialsView</text>

    <rect x="1040" y="700" width="120" height="40" class="component-box"/>
    <text x="1100" y="725" text-anchor="middle" class="component-text">EstimateModule</text>

    <!-- Error Handling -->
    <rect x="1180" y="700" width="120" height="40" class="component-box"/>
    <text x="1240" y="725" text-anchor="middle" class="component-text">ErrorBoundary</text>

    <!-- Connection Status -->
    <rect x="80" y="760" width="140" height="40" class="component-box"/>
    <text x="150" y="785" text-anchor="middle" class="component-text">ConnectionStatusIndicator</text>

    <!-- Key Dependencies -->
    <line x1="140" y1="200" x2="140" y2="220" class="strong-dependency"/>
    <line x1="290" y1="200" x2="290" y2="220" class="strong-dependency"/>
    <line x1="430" y1="200" x2="430" y2="220" class="strong-dependency"/>
    <line x1="550" y1="200" x2="550" y2="220" class="strong-dependency"/>

    <!-- Project to Tiles -->
    <line x1="420" y1="300" x2="130" y2="320" class="dependency-line"/>
    <line x1="420" y1="300" x2="260" y2="320" class="dependency-line"/>
    <line x1="420" y1="300" x2="400" y2="320" class="dependency-line"/>
    <line x1="420" y1="300" x2="540" y2="320" class="dependency-line"/>

    <!-- Kanban Dependencies -->
    <line x1="130" y1="360" x2="670" y2="320" class="dependency-line"/>
    <line x1="260" y1="360" x2="670" y2="320" class="dependency-line"/>
    <line x1="400" y1="360" x2="670" y2="320" class="dependency-line"/>
    <line x1="540" y1="360" x2="670" y2="320" class="dependency-line"/>

    <!-- UI Dependencies -->
    <line x1="130" y1="440" x2="130" y2="480" class="weak-dependency"/>
    <line x1="260" y1="440" x2="250" y2="480" class="weak-dependency"/>
    <line x1="400" y1="440" x2="370" y2="480" class="weak-dependency"/>
    <line x1="540" y1="440" x2="490" y2="480" class="weak-dependency"/>

    <!-- Data Layer Dependencies -->
    <line x1="130" y1="640" x2="140" y2="700" class="dependency-line"/>
    <line x1="260" y1="640" x2="280" y2="700" class="dependency-line"/>
    <line x1="400" y1="640" x2="420" y2="700" class="dependency-line"/>
    <line x1="540" y1="640" x2="560" y2="700" class="dependency-line"/>

    <!-- Legend -->
    <rect x="50" y="880" width="400" height="100" class="component-box"/>
    <text x="60" y="900" class="category-header">Dependency Legend</text>

    <line x1="70" y1="920" x2="120" y2="920" class="strong-dependency"/>
    <text x="130" y="925" class="component-text">Strong Dependency (Required)</text>

    <line x1="70" y1="940" x2="120" y2="940" class="dependency-line"/>
    <text x="130" y="945" class="component-text">Normal Dependency (Used)</text>

    <line x1="70" y1="960" x2="120" y2="960" class="weak-dependency"/>
    <text x="130" y="965" class="component-text">Weak Dependency (Optional)</text>

    <!-- Architecture Notes -->
    <rect x="500" y="880" width="850" height="100" class="component-box"/>
    <text x="510" y="900" class="category-header">Architecture Notes</text>

    <text x="510" y="920" class="component-text">• Layout Layer: Provides structure and navigation (BrandedSidebar, ContextualHeader)</text>
    <text x="510" y="940" class="component-text">• Business Logic Layer: Core application features (Projects, Tiles, Kanban)</text>
    <text x="510" y="960" class="component-text">• UI Components Layer: Reusable UI elements and utilities</text>
    <text x="510" y="980" class="component-text">• Data Layer: External integrations and specialized functionality (3D, Calendar, Gantt)</text>

</svg>
